<link rel="import" href="../../components/polymer/polymer.html">

<dom-module id="my-meals-list">
  <template>
    <style>
        :host {
            display: block;
            box-sizing: border-box;
        }
        section {
            height: 100%;
        }
        .header {
            padding: 8px 24px;
        }
        .clear {
        	clear: both;
            height: 80px;
        }
    </style>

    <section class="layout vertical">
        <div class="header paper-font-title">
            <h1>Mes repas</h1>
        </div>
        <paper-dialog-scrollable class="flex">
            <iron-ajax
                auto
                url="http://localhost:3000/json/meals.json"
                handle-as="json"
                last-response="{{meals}}"
                debounce-duration="300"></iron-ajax>
            <template is="Dom-repeat" items="{{meals}}">
              <div class="grid-meal">
                  <paper-card heading="{{item.name}}" image="http://placehold.it/350x150">
                     <div class="card-content">{{item.blood_sugar}}</div>
                     <div class="card-actions">
                         <paper-button>ID du repas:&nbsp;<span>{{item.id}}</span></paper-button>
                     </div>
                 </paper-card>
              </div>
          </template>
          <div class="clear"></div>
        <paper-dialog-scrollable>
    </section>
  </template>
</dom-module>

  <script>
    Polymer({
      is: 'my-meals-list',
      properties: {
        meals: {
          type: Object
        }
      },
      ready: function() {

      }
    });
  </script>
