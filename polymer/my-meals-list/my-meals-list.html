<link rel="import" href="../../components/polymer/polymer.html">

<dom-module id="my-meals-list">
  <template>
    <style>
        :host {
            display: block;
            box-sizing: border-box;
            height: 100%;
            --paper-fab-background: #FFC107;
            --paper-fab-keyboard-focus-background: #FFC107;
        }
        section {
            box-sizing: border-box;
            height: 100%;
        }
        .clear {
          clear: both;
          height: 1px;
          display: block;
        }
        iron-list {
          height: auto;
          overflow: hidden;
        }

        paper-ripple {

        }
        paper-fab {
           position: absolute;
           top: -19px;
           right: 24px;
        }
        .add-meal {
           padding: 0 16px;
        }
    </style>

    <section class="layout vertical">
      <div class="header-meal">
         <paper-fab mini icon="add"></paper-fab>
         <p class="add-meal">Ajouter un repas</p>
      </div>

        <paper-dialog-scrollable class="flex">
          <iron-ajax url="/json/meals.json" last-response="{{data}}" auto></iron-ajax>
            <iron-list items="{{data}}" as="item">
              <template>
                <my-meal
                  id="{{item.id}}"
                  name="{{item.name}}"
                  date="{{item.created_at}}"
                  glycemie="{{item.blood_sugar}}">
                </my-meal>
              </template>
            </iron-list>
        <paper-dialog-scrollable>
    </section>
  </template>
</dom-module>

  <script>
    Polymer({
      is: 'my-meals-list',
      properties: {
        meals: {
          type: Object
        }
      },
      /**
       * The maximum number of markers
       */

      // Fires when an instance of the element is created
      created: function() {},

      // Fires when the local DOM has been fully prepared
      ready: function() {},

      // Fires when the element was inserted into the document
      attached: function() {},

      // Fires when the element was removed from the document
      detached: function() {},

      // Fires when an attribute was added, removed, or updated
      attributeChanged: function(name, type) {}
    });
  </script>
